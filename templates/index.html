<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ChuっとGPT</title>
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="icon" type="image/svg+xml"
        href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="0.9em" font-size="90">👄</text></svg>'>
</head>

<body>
    <div class="layout">
        <aside class="sidebar">

            <div class="block">
                <div class="label">モデル</div>
                <div id="modelDropdown" class="dropdown">
                    <button id="modelBtn" type="button" class="dropdown-btn" aria-haspopup="true" aria-expanded="false">
                        <span id="modelBtnText">読み込み中…</span>
                        <span class="dropdown-arrow">▽</span>
                    </button>
                    <div id="modelMenu" class="dropdown-menu" hidden></div>
                </div>
            </div>

            <div class="block">
                <button id="newChatBtn" class="btn primary" type="button">新しいチャット</button>
            </div>

            <div class="conv-head">
                <div>あなたのチャット</div>
            </div>
            <div id="convList" class="conv-list"></div>

            <div class="sidebar-meta">
                <div class="sidebar-user">ID: {{ user_id }}</div>
                <form method="post" action="/logout">
                    <button class="sidebar-logout" type="submit">ログアウト</button>
                </form>
            </div>
        </aside>

        <div class="main">
            <header class="topbar">
                <button id="menuToggle" class="menu-toggle" type="button" aria-label="メニューを開閉" aria-expanded="false">
                    <span class="menu-toggle-bar"></span>
                    <span class="menu-toggle-bar"></span>
                    <span class="menu-toggle-bar"></span>
                </button>

                <div class="topbar-title-wrap">
                    <img class="topbar-banner" src="/static/banner.png" alt="ChuっとGPT" />
                </div>
            </header>

            <main id="chat" class="chat"></main>

            <div class="model-status">
                <div class="model-status-left">現在のモデル</div>
                <div class="model-status-right">
                    <span id="currentModelPill" class="model-pill">読み込み中…</span>
                    <span id="currentModelDesc" class="model-desc"></span>
                </div>
            </div>

            <form id="form" class="composer">
                <textarea id="input" placeholder="メッセージを入力… (Shift+Enterで改行)" autocomplete="off" rows="1"></textarea>
                <button id="send" type="submit">送信</button>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <div id="noticeModal" class="modal" hidden>
        <div class="modal-backdrop"></div>
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="noticeTitle">
            <div class="modal-title" id="noticeTitle">更新履歴 / 注意事項</div>
            <div id="noticeBody" class="modal-body"></div>
            <div class="modal-actions">
                <button id="noticeOkBtn" type="button" class="modal-ok">上記を了解した！</button>
            </div>
        </div>
    </div>

    <div id="sidebarOverlay" class="sidebar-overlay" hidden></div>

    <script src="/static/app.js"></script>
</body>

</html>